<!DOCTYPE html>
<html lang="fa">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Binance Plus — Dashboard</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700;800&display=swap" rel="stylesheet">
<style>
:root{--bg:#050507;--card:#0b0b0c;--gold:#d4af37;--muted:#9b9b9b;--accent:#f5f3ea}
*{box-sizing:border-box}
html,body{height:100%;margin:0;font-family:Poppins,system-ui,Arial;background:var(--bg);color:var(--accent);direction:rtl}
.container{max-width:980px;margin:120px auto;padding:20px}
.card{background:linear-gradient(180deg,#0b0b0d,#111);border-radius:12px;padding:24px;box-shadow:0 20px 60px rgba(0,0,0,0.7)}
h1{color:var(--gold);margin:0 0 8px}
.small{color:var(--muted);margin-bottom:16px}
.btn{padding:10px 14px;border-radius:10px;border:0;cursor:pointer;font-weight:700}
.btn-outline{background:transparent;border:1px solid rgba(255,255,255,0.06);color:var(--accent)}
.stat-grid{display:grid;grid-template-columns:repeat(3,1fr);gap:12px;margin-top:14px}
.stat{background:var(--card);padding:14px;border-radius:10px;text-align:center}
@media (max-width:720px){.stat-grid{grid-template-columns:1fr}}
</style>
</head>
<body>
<div class="container">
  <div class="card">
    <h1>خوش‌آمدید به داشبورد Binance Plus</h1>
    <div class="small" id="welcomeEmail">در حال بررسی وضعیت...</div>

    <div id="mainContent" style="display:none">
      <div class="stat-grid">
        <div class="stat"><strong>پلن‌های فعال</strong><div class="small">3</div></div>
        <div class="stat"><strong>سرمایه شما</strong><div class="small">$12,340</div></div>
        <div class="stat"><strong>سود روزانه</strong><div class="small">$150</div></div>
      </div>

      <div style="margin-top:18px">
        <button class="btn btn-outline" id="logoutBtn">خروج و بازگشت به صفحهٔ اصلی</button>
      </div>
    </div>

    <div id="needVerify" style="display:none">
      <p class="small">ایمیل شما هنوز تأیید نشده — ابتدا باید ایمیل را تأیید کنید.</p>
      <button class="btn btn-primary" id="gotoVerifyBtn">رفتن به صفحهٔ تأیید ایمیل</button>
    </div>
  </div>
</div>

<script>
/*
 Dashboard behavior:
 - Check localStorage 'binanceplus_current' or verified list.
 - If current user is verified -> show dashboard.
 - Otherwise, show message and provide link back to verify page.
*/

const VERIFIED_KEY = 'binanceplus_verified';
const current = localStorage.getItem('binanceplus_current') || null;
const verified = JSON.parse(localStorage.getItem(VERIFIED_KEY) || '[]');

const welcomeEmail = document.getElementById('welcomeEmail');
const mainContent = document.getElementById('mainContent');
const needVerify = document.getElementById('needVerify');

if(current && verified.includes(current)){
  welcomeEmail.innerText = `حساب واردشده: ${current}`;
  mainContent.style.display = 'block';
  needVerify.style.display = 'none';
} else {
  welcomeEmail.innerText = 'هیچ کاربر تاییدشده‌ای وجود ندارد.';
  mainContent.style.display = 'none';
  needVerify.style.display = 'block';
}

document.getElementById('gotoVerifyBtn').addEventListener('click', ()=>{
  // Pass current email if exists
  const url = 'verify.html' + (current ? ('?email=' + encodeURIComponent(current)) : '');
  location.href = url;
});

document.getElementById('logoutBtn').addEventListener('click', ()=>{
  localStorage.removeItem('binanceplus_current');
  // optional: redirect to main page (index.html or home)
  location.href = 'index.html'; // اگر صفحهٔ اصلی نام دیگری دارد، آن را قرار بده
});
</script>
</body>
</html>
